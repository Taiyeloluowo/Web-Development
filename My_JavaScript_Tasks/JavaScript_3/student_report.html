<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Report System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous" />
</head>

<body>

    <body>
        <div class="mx-auto col-12 rounded-3 shadow my-3 p-3">
            <div class="text-center">
                <h3 class="fs-1">Practice Exercise 4</h3>
                <h3 class="fs-5">Comprehensive Practice Exercise: Student Report System</h3>
            </div>

            <div>
                <button onclick="printAvg()">Print Average</button>
                <button onclick="topStu()">Top Student</button>
                <button onclick="botStu()">Bottom Student</button>
                <button onclick="repGen()">Report Generator</button>
            </div>
        </div>
        <div>

            <script>


                let students = [];
                let grades = [];

                // This code is ADD studdent
                function addStut(name, grade) {
                    if (grade < 0 || grade > 100) {
                        console.log(`You enter wrong grade for ${name}, You must be enter range of 0 to 100`);
                        return; // This code is just stop the wrong input you are enter
                    }

                    if (students.includes(name)) {
                        console.log(`This student name is ${name} registered!`);
                        return;
                    }
                    students.push(name);
                    grades.push(grade);
                }

                // This code is calculate the average of the students
                function printAvg() {
                    let stuTotal = 0;
                    for (let i of grades) {
                        stuTotal = stuTotal + i;
                    }

                    let avg = (stuTotal / grades.length).toFixed(2);
                    console.log(`The average grade for the class is ${avg}`);

                }

                // This code identifies the student at the top position
                function topStu() {
                    let top = Math.max(...grades);
                    let gradeNo = grades.indexOf(top);
                    console.log(`The student at the top in class is ${students[gradeNo]} | ${top}`);

                }

                // This code identifies the student at the bottom positin

                function botStu() {
                    let lower = Math.min(...grades);
                    let gradeNo = grades.indexOf(lower);
                    console.log(`The student at the bottom in class is ${students[gradeNo]} | ${lower}`);
                }

                // This code is use for categorizer of grade
                // (score >= 80 || score == 89)
                function gradeCat(score) {
                    if (score >= 70 && score <= 100) {
                        return "A";
                    } else if (score >= 60 && score <= 69) {
                        return "B";
                    } else if (score >= 50 && score <= 59) {
                        return "C";
                    } else if (score >= 45 && score <= 49) {
                        return "D";
                    } else {
                        return "F";
                    }

                }

                // Report Generator

                function repGen() {
                    if (students.length === 0) {
                        console.log("Number of stusents in the system");
                        return;
                    }

                    let showMe = students.map((key, value) => ({
                        name: key,
                        grade: grades[value],
                        gradeCategory: gradeCat(grades[value])
                    }));

                    showMe.sort((x, y) => x.grade - y.grade);

                    console.log("\n Summary of my Class Report");
                    console.log("")
                    console.log("Name\t\t\t\tGrade\tGrade Category");


                    for (let gradeItem of showMe) {
                        console.log(`${gradeItem.name}\t | ${gradeItem.grade} \t | ${gradeItem.gradeCategory}`);
                    }

                    console.log("");

                   
                }

                addStut("Olawepo Olajide", 100);
                addStut("Tolu Apampa", 67);
                addStut("Iwarere Tosin", 53);
                addStut("Kafidipe Deji", 40);

               
            </script>

    </body>

</html>